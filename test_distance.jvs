
void main() {
   int nombrelettre, i;
   int niveau = 8;
   int score = 0;
   String alphabet = "azertyuiopqsdfghjklmwxcvbn";
   char lettrechar;
   String lettre, lettrevue;
   println("----Test d'acuité visuelle----");
   println("Ce test nécessite 2 personnes pour être réalisé.");
   println("Le \"patient\" indique la lettre qu'il perçoit.");
   println("Le \"médecin\" rentre la lettre que le patient lui donne.");
   println("Si la lecture est correcte, une nouvelle lettre s'affiche mais de taille inférieure. Sinon, la lettre affichée est de même taille.");
   println("Indiquer le nombre de lettres à afficher");
   nombrelettre = readInteger("Nombre de lettres à afficher?");
   println("Vous avez choisi d'afficher " + nombrelettre+" lettres.");
   println("ATTENTION! Début du test dans 5 secondes!");
   //sleep(5000);
    while (nombrelettre > 0) {
    	//génération aléatoire d'une lettre
      i = random(0, 25);
      lettrechar = alphabet.charAt(i);
      lettre = Character.toString(lettrechar);
      //chargement de la lettre
      load("C:/images/"+niveau+"/"+lettre+".jpg", false, false);
      lettrevue = readString("Quelle lettre voyez-vous? (en minuscule)");
      if (lettre == lettrevue){
      	niveau--;
      	if (niveau < 1) {
      		niveau = 1;
      	}
      	score++;
      }
      else {
      	score--;
      }
      nombrelettre = nombrelettre-1;
   }
}

